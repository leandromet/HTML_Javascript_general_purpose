<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title></title>
    
  
    <link rel="stylesheet" href="css/leaflet.css" crossorigin=""/>

    <link rel="stylesheet" href="css/leaflet.wmslegend.css"/>
    <link rel="stylesheet" href="css/leaflet.zoomdisplay.css"/>
    <script src="js/leaflet.js" crossorigin=""></script>
<script src="js/leaflet.zoomdisplay.js"></script>
<script src="js/leaflet.wmslegend.js"></script>
  
    <style>
table, th, td {
  border: 1px solid black;
  border-spacing: 20px;
  border-collapse: collapse;
  margin:20px;
}
</style>

    <style>
        html, body, #map {
            height: 92%;
            width: 100%;
            background: white;
        }
        
    </style>

<script type="text/javascript">
function getCheckedCheckboxesFor(checkboxName) {
    var checkboxes = document.querySelectorAll('input[name="' + checkboxName + '"]:checked'), values = [];
    Array.prototype.forEach.call(checkboxes, function(el) {
        values.push(el.value);
    });
    return values;
}
</script>
    
  </head>
  <body>
  <div id='map'></div>
    <p><br>
    </p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Legenda Animalia</td>
          <td>Mapa Unidade de Conservação</td>
          <td>Legenda Platae</td>
        </tr>
        <tr>
          <td style="width: 150.383px;"><img src="http://rede.inma.gov.br/geoserver/rima/wms?service=WMS&amp;version=1.1.0&amp;REQUEST=GetLegendGraphic&amp;FORMAT=image/png&amp;WIDTH=30&amp;HEIGHT=20&amp;layer=rima:pontos_fauna"></td>
          <td style="width: 836.2px;"><br>
          </td>
          <td><img src="http://rede.inma.gov.br/geoserver/rima/wms?service=WMS&amp;version=1.1.0&amp;REQUEST=GetLegendGraphic&amp;FORMAT=image/png&amp;WIDTH=30&amp;HEIGHT=20&amp;layer=rima:pontos_flora"></td>
        </tr>
      </tbody>
    </table>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <th align="left"><span> <input name="Class" value="FLORESTA NACIONAL DE GOYTACAZES"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">FLORESTA
                NACIONAL DE GOYTACAZES</label> </span></th>
          <th align="left"><span> <input name="Class" value="FLORESTA NACIONAL DE PACOTUBA"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">FLORESTA
                NACIONAL DE PACOTUBA</label> </span></th>
          <th align="left"><span> <input name="Class" value="FLORESTA NACIONAL DE RIO PRETO"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">FLORESTA
                NACIONAL DE RIO PRETO</label> </span></th>
          <th align="left"><span> <input name="Class" value="MONUMENTO NATURAL  O FRADE E A FREIRA"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">MONUMENTO
                NATURAL O FRADE E A FREIRA</label> </span></th>
          <th align="left"><span> <input name="Class" value="MONUMENTO NATURAL DOS PONTOES CAPIXABAS"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">MONUMENTO
                NATURAL DOS PONTOES CAPIXABAS</label> </span></th>
        </tr>
        <tr>
          <th align="left"><span> <input name="Class" value="MONUMENTO NATURAL DOS PONTOES CAPIXABAS"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">MONUMENTO
                NATURAL DOS PONTOES CAPIXABAS</label> </span></th>
          <th align="left"><span> <input name="Class" value="MONUMENTO NATURAL DOS PONTOES CAPIXABAS"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">MONUMENTO
                NATURAL DOS PONTOES CAPIXABAS</label> </span></th>
          <th align="left"><span> <input name="Class" value="MONUMENTO NATURAL SERRA DAS TORRES"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">MONUMENTO
                NATURAL SERRA DAS TORRES</label> </span></th>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL DA CACHOEIRA DA FUMACA"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL DA CACHOEIRA DA FUMACA</label> </span></th>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL DE ITAUNAS"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL DE ITAUNAS</label> </span></th>
        </tr>
        <tr>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL DE ITAUNAS"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL DE ITAUNAS</label> </span></th>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL DE MATA DAS FLORES"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL DE MATA DAS FLORES</label> </span></th>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL DE MATA DAS FLORES"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL DE MATA DAS FLORES</label> </span></th>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL DE MATA DAS FLORES"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL DE MATA DAS FLORES</label> </span></th>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL DE PEDRA AZUL"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL DE PEDRA AZUL</label> </span></th>
        </tr>
        <tr>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL DO FORNO GRANDE"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL DO FORNO GRANDE</label> </span></th>
          <th align="left"><span> <input name="Class" value="PARQUE ESTADUAL PAULO CESAR VINHA"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                ESTADUAL PAULO CESAR VINHA</label> </span></th>
          <th align="left"><span> <input name="Class" value="PARQUE NACIONAL DE CAPARAO"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">PARQUE
                NACIONAL DE CAPARAO</label> </span></th>
          <th align="left"><span> <input name="Class" value="RESERVA BIOLOGICA AUGUSTO RUSCHI"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">RESERVA
                BIOLOGICA AUGUSTO RUSCHI</label> </span></th>
          <th align="left"><span> <input name="Class" value="RESERVA BIOLOGICA DE COMBOIOS"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">RESERVA
                BIOLOGICA DE COMBOIOS</label> </span></th>
        </tr>
        <tr>
          <th align="left"><span> <input name="Class" value="RESERVA BIOLOGICA DE SOORETAMA"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">RESERVA
                BIOLOGICA DE SOORETAMA</label> </span></th>
          <th align="left"><span> <input name="Class" value="RESERVA BIOLOGICA DO C RREGO DO VEADO"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">RESERVA
                BIOLOGICA DO C RREGO DO VEADO</label> </span></th>
          <th align="left"><span> <input name="Class" value="RESERVA BIOLOGICA DO CORREGO GRANDE"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">RESERVA
                BIOLOGICA DO CORREGO GRANDE</label> </span></th>
          <th align="left"><span> <input name="Class" value="RESERVA BIOLOGICA DUAS BOCAS"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">RESERVA
                BIOLOGICA DUAS BOCAS</label> </span></th>
          <th align="left"><span> <input name="Class" value="RESERVA ESTADUAL DE DESENVOLVIMENTO SUSTENTAVEL CONCHA D'OSTRA"

                onclick="onlyOne(this)" type="checkbox"> <label for="Class">RESERVA
                ESTADUAL DE DESENVOLVIMENTO SUSTENTAVEL CONCHA D'OSTRA</label> </span></th>
        </tr>
      </tbody>
    </table>
    <p><br>
    </p>
      <script> 
function updateParams() {
    var x = getCheckedCheckboxesFor('Class');
    var filter = "class like '" + x + "'";
    return result_fauna.setParams({CQL_FILTER:filter});
}
      
</script> <p></p>
    <script>
       var wms_arcgis = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                                attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
            })

        var result_flora = L.tileLayer.wms('http://rede.inma.gov.br/geoserver/rima/wms?', {
                layers:'rima:pontos_flora',
                transparent:true,
                format: 'image/png'
        });
        var result_fauna = L.tileLayer.wms('http://rede.inma.gov.br/geoserver/rima/wms?', {
                layers:'rima:pontos_fauna',
                transparent:true,
                format: 'image/png'
        });

        var es_rios = L.tileLayer.wms('http://rede.inma.gov.br/geoserver/rima/wms?', {
                layers:'rima:rios_principais_es',
                transparent:true,
                format: 'image/png'
        });
    var streets = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 20,
        attribution: '  Instituto Nacional da Mata Atlântica <a href="www.inma.gov.br">INMA</a>'+' Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
            '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery © <a href="http://mapbox.com">Mapbox</a>' ,
        id: 'mapbox.streets'
    });
        var grayscale   = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 20,
        attribution: '  Instituto Nacional da Mata Atlântica <a href="www.inma.gov.br">INMA</a>'+' Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
            '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery © <a href="http://mapbox.com">Mapbox</a>' ,
        id: 'mapbox.light'
    });
function updateParams() {
    var x = getCheckedCheckboxesFor('Class');
    var filter = "class like '" + x + "'";
    return result_fauna.setParams({CQL_FILTER:filter});
}

function updateParams2() {
    var y = getCheckedCheckboxesFor('Ordem');
    var filter = "ordem like '" + y + "'";
    return result_fauna.setParams({CQL_FILTER:filter});
}
    var map = L.map('map', {
        center: [-19.7, -40.6],
        zoom: 8,
        minZoom: 4,
            maxZoom: 20,
        layers: [grayscale, streets]
    });

var overlays = {
                "Resultados Flora RIMA": result_flora,
                "Resultados Fauna RIMA": result_fauna,
               }; 
  var overlays2 = {
                "Rios do ES": es_rios,
                };
        var baseLayers = {
                "OSM-Ruas": streets,
                "OSM-Tons de Cinza": grayscale,
        "ESRI Arcgis base": wms_arcgis,
        };
        var baseLayers2 = {
        };
        var baseLayers3 = {
        };
var logo = L.control({position: 'topright'});
    logo.onAdd = function (map) {
        var div = L.DomUtil.create('div', 'logo');
        div.innerHTML = "<a href='http://www.inma.gov.br'><img src='http://inma.gov.br/wp-content/themes/portalpadrao/img/logo.jpg' height='30px'/></a>";
        return div;
    };
    logo.addTo(map);
        L.control.layers(baseLayers, overlays).addTo(map);
        L.control.layers(baseLayers, overlays2).addTo(map);
    map.addLayer(result_fauna);
</script>
    <p><br>
    </p>
    <p></p>
  </body>
</html>
